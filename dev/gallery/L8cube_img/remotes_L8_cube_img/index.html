<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Landsat 8 images · RemoteS.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link href="../../../assets/custom.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">RemoteS.jl</span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><span class="tocitem">Gallery</span><ul><li><a class="tocitem" href="../../Aqua_orbits/remotes_sat_tracks/">Aqua orbits</a></li><li><a class="tocitem" href="../../Aqua_sst/remotes_L2_SST/">Aqua SST</a></li><li><a class="tocitem" href="../../HLS/cloud-native-hls-data/">Cloud-Native HLS dat</a></li><li class="is-active"><a class="tocitem" href>Landsat 8 images</a></li><li><a class="tocitem" href="../../L8cube_ndvi/remotes_L8_NDVI/">Landsat 8 NDVI</a></li></ul></li><li><a class="tocitem" href="../../../">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Gallery</a></li><li class="is-active"><a href>Landsat 8 images</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Landsat 8 images</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenericMappingTools/RemoteS.jl/blob/master/docs/src/gallery/L8cube_img/remotes_L8_cube_img.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Exploring-a-*cube*-of-Landsat-8-data-1"><a class="docs-heading-anchor" href="#Exploring-a-*cube*-of-Landsat-8-data-1">Exploring a <em>cube</em> of Landsat 8 data</a><a class="docs-heading-anchor-permalink" href="#Exploring-a-*cube*-of-Landsat-8-data-1" title="Permalink"></a></h1><p>Here we will show examples of the type of things we can do with Landsat 8 data stored in a <em>cube</em> for better organisation and easyness of access.</p><p>The data was downloaded from <a href="https://earthexplorer.usgs.gov">EarthExplorer</a> and comprises the scene with Product ID <code>LC08_L1TP_204033_20210525_20210529_02_T1</code>.</p><p>The <em>cube</em> was made with this instructions (but they would only work if you had the scene files in your computer).</p><p><code>path = C:/v/LC08_L1TP_204033_20210525_20210529_02_T1/LC08_L1TP_204033_20210525_20210529_02_T1_B;</code></p><p><code>cube = cutcube(bands=[2,3,4,5,6,7,10], template=path, region=(485490,531060,4283280,4330290), save=&quot;LC08_L1TP_20210525_02_cube.tiff&quot;)</code></p><p>This creates a 3D GeoTIFF file with the companion MTL file saved in it as Metadata. We can see the band info by running the <code>reportbands</code> function. That information is quite handy because we can, for example, just refer to the <em>red</em> band and it will figure out which layer of the cube contains the Red band.</p><pre><code class="language-julia">using RemoteS, GMT
reportbands(&quot;c:/v/LC08_L1TP_20210525_02_cube.tiff&quot;)
7-element Vector{String}:
 &quot;Band 2 - Blue [0.45-0.51]&quot;
 &quot;Band 3 - Green [0.53-0.59]&quot;
 &quot;Band 4 - Red [0.64-0.67]&quot;
 &quot;Band 5 - NIR [0.85-0.88]&quot;
 &quot;Band 6 - SWIR 1 [1.57-1.65]&quot;
 &quot;Band 7 - SWIR 2 [2.11-2.29]&quot;
 &quot;Band 10 - Thermal IR 1 [10.6-11.19]&quot;</code></pre><p>So to start our exploration the best is to generate a true color image. The <code>truecolor</code> function knows how to do that automatically including the histogram contrast stretch.</p><pre><code class="language-julia">Irgb = truecolor(&quot;c:/v/LC08_L1TP_20210525_02_cube.tiff&quot;);
imshow(Irgb)</code></pre><img src="../LC08_L1TP_20210525_02_RGB.png" width="500" class="center"/><p>And we can compute the brightness temperature in Celsius at the Top of Atmosphere (TOA) from Band 10.</p><pre><code class="language-julia">T = dn2temperature(&quot;c:/v/LC08_L1TP_20210525_02_cube.tiff&quot;, band=10);
imshow(T, dpi=150, colorbar=true)</code></pre><img src="../LC08_L1TP_20210525_02_Tbright.png" width="500" class="center"/><p>Or the Radiance TOA for the Blue band.</p><pre><code class="language-julia">Btoa = dn2radiance(&quot;c:/v/LC08_L1TP_20210525_02_cube.tiff&quot;, bandname=&quot;blue&quot;);
imshow(Btoa, dpi=150, color=:gray)</code></pre><img src="../LC08_L1TP_20210525_02_Gtoa.png" width="500" class="center"/><p>Hmmm, very dark. Let&#39;s look at its histogram.</p><pre><code class="language-julia">histogram(Btoa, auto=true,  show=true)</code></pre><img src="../LC08_L1TP_20210525_02_Btoa_histo.png" width="350" class="center"/><p>Yes, the data is very concentraded in the low numbers. We will need to apply a contrast stretch. To do that operation we will use the <code>rescale</code> function with the <span>$stretch=true$</span> option that uses the limits displayed in the histogram figure above ans stretches the inner interval into <code>[0 255]</code> (by effect of the <span>$type=UInt8$</span> option).</p><pre><code class="language-julia">Btoa_img = rescale(Btoa, stretch=true, type=UInt8);
imshow(Btoa_img)</code></pre><img src="../LC08_L1TP_20210525_02_Btoa_hist.png" width="500" class="center"/><p>Now we are going to do the same for all Red, Green and Blue bands and compose the in a truecolor image. Repeating, we are going to compute the radiance at the top of atmosphere, retain only the data inside the parts of the histogram where it is more concentrated and create a true color image. To compute the radiance TOA we can do it all at once with the <code>dn2radiance</code> applied to the cube and, like before, create the RGB image with <code>truecolor</code></p><pre><code class="language-julia">cube_toa_rad = dn2radiance(&quot;c:/v/LC08_L1TP_20210525_02_cube.tiff&quot;);
Irgb_toa = truecolor(cube_toa_rad);
imshow(Irgb_toa)</code></pre><img src="../LC08_L1TP_20210525_02_RGB_toa.png" width="500" class="center"/><p>Hm, yes, very nice but it looks very much like the one obtained directly with the digital numbers. Indeed, it does but let us zoom in.</p><pre><code class="language-julia">grdimage(Irgb, region=(502380,514200,4311630,4321420), figsize=8, frame=:bare)
grdimage!(Irgb_toa, figsize=8, projection=:linear, xshift=8, frame=:bare, show=true)</code></pre><img src="../LC08_L1TP_20210525_02_RGB_compare.png" width="600" class="center"/><p>We can now clearly see that the image on the right, the one made the radiance TOA, has an higher contrast than the one made with data without any corrections.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../HLS/cloud-native-hls-data/">« Cloud-Native HLS dat</a><a class="docs-footer-nextpage" href="../../L8cube_ndvi/remotes_L8_NDVI/">Landsat 8 NDVI »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 13 May 2025 10:46">Tuesday 13 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
